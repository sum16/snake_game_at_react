(this.webpackJsonpsnake_game_at_react=this.webpackJsonpsnake_game_at_react||[]).push([[0],{17:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var c=n(2),i=n.n(c),a=n(12),s=n.n(a),r=(n(17),n(11)),o=n(3),l=n(0),u=function(t){var e=t.status,n=t.onStart,c=t.onRestart,i=t.onStop;return Object(l.jsxs)("div",{className:"button",children:["gameover"===e&&Object(l.jsx)("button",{className:"btn btn-gameover",onClick:c,children:"gameover"}),"init"===e&&Object(l.jsx)("button",{className:"btn btn-init",onClick:n,children:"start"}),"suspended"===e&&Object(l.jsx)("button",{className:"btn btn-suspended",onClick:n,children:"start"}),"playing"===e&&Object(l.jsx)("button",{className:"btn btn-playing",onClick:i,children:"stop"})]})},b=function(t){var e=t.fields;return Object(l.jsx)("div",{className:"field",children:e.map((function(t){return t.map((function(t){return Object(l.jsx)("div",{className:"dots ".concat(t)})}))}))})},j=n(5),d=n(7),f=function(t){var e=t.onChange;return Object(l.jsxs)("div",{className:"manipulation-panel",children:[Object(l.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return e("left")},children:Object(l.jsx)(j.a,{icon:d.b})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return e("up")},children:Object(l.jsx)(j.a,{icon:d.d})}),Object(l.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return e("down")},children:Object(l.jsx)(j.a,{icon:d.a})})]}),Object(l.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return e("right")},children:Object(l.jsx)(j.a,{icon:d.c})})]})},O=function(t){var e=t.length,n=t.difficulty,c=void 0===n?3:n,i=t.onChangeDifficulty,a=c<5?"":"is-hidden",s=c>1?"":"is-hidden";return Object(l.jsxs)("div",{className:"navigation",children:[Object(l.jsxs)("div",{className:"navigation-item",children:[Object(l.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(l.jsx)("div",{className:"navigation-item-number-container",children:Object(l.jsx)("div",{className:"num-board",children:e})})]}),Object(l.jsxs)("div",{className:"navigation-item",children:[Object(l.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(l.jsxs)("div",{className:"navigation-item-number-container",children:[Object(l.jsx)("span",{className:"num-board",children:c}),Object(l.jsxs)("div",{className:"difficulty-button-container",children:[Object(l.jsx)("div",{className:"difficulty-button difficulty-up ".concat(a),onClick:function(){return i(c+1)}}),Object(l.jsx)("div",{className:"difficulty-button difficulty-down ".concat(s),onClick:function(){return i(c-1)}})]})]})]})]})},h=function(t,e){for(var n=function(){var n=Math.floor(Math.random()*(t-1-1))+1,c=Math.floor(Math.random()*(t-1-1))+1;if(!e.some((function(t){return t.x===n&&t.y===c})))return{v:{x:n,y:c}}};;){var c=n();if("object"===typeof c)return c.v}},m=function(t,e){for(var n=[],c=0;c<=t;c++){var i=new Array(t).fill("");n.push(i)}n[e.y][e.x]="snake";var a=h(t,[e]);return n[a.y][a.x]="food",n},v={x:17,y:17},x=m(35,v),g=[1e3,500,100,50,10],p=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),y=Object.freeze({up:"up",down:"down",right:"right",left:"lect"}),N=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),k=Object.freeze({up:{x:0,y:-1},down:{x:0,y:1},right:{x:1,y:0},left:{x:-1,y:0}}),C=Object.freeze({37:y.left,38:y.up,39:y.right,40:y.down}),S=function(t){t&&clearInterval(t)};var w=function(){var t=Object(c.useState)(x),e=Object(o.a)(t,2),n=e[0],i=e[1],a=Object(c.useState)(),s=Object(o.a)(a,2),j=(s[0],s[1]),d=Object(c.useState)(0),w=Object(o.a)(d,2),E=w[0],_=w[1],z=Object(c.useState)(p.init),I=Object(o.a)(z,2),L=I[0],M=I[1],D=Object(c.useState)(y.up),F=Object(o.a)(D,2),J=F[0],A=F[1],B=Object(c.useState)([]),P=Object(o.a)(B,2),R=P[0],T=P[1],G=Object(c.useState)(3),q=Object(o.a)(G,2),H=q[0],K=q[1];Object(c.useEffect)((function(){return T([v]),setInterval((function(){_((function(t){return t+1}))}),g[H-1]),S}),[H]),Object(c.useEffect)((function(){0!==R.length&&L===p.playing&&(Q()||(S(),M(p.gameover)))}),[E]);var Q=function(){var t=R[0],e=t.x,c=t.y;console.log(R);var a=k[J];console.log(JSON.stringify(a));var s={x:e+a.x,y:c+a.y};if(function(t,e){return e.y<0||e.x<0||e.y>t-1||e.x>t-1}(n.length,s)||function(t,e){return"snake"===t[e.y][e.x]}(n,s))return!1;var o=Object(r.a)(R);if(console.log(o),"food"!==n[s.y][s.x]){var l=o.pop();n[l.y][l.x]=""}else{var u=h(n.length,Object(r.a)(o));n[u.y][u.x]="food"}return n[s.y][s.x]="snake",o.unshift(s),T(o),i(n),!0},U=Object(c.useCallback)((function(t){if(L!==p.playing)return J;N[J]!==t&&A(t)}),[J,L]),V=Object(c.useCallback)((function(t){L===p.init&&(t<1||t>g.length||K(t))}),[L,H]);return Object(c.useEffect)((function(){var t=function(t){var e=C[t.keyCode];e&&U(e)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[U]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("div",{className:"title-container",children:Object(l.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(l.jsx)(O,{length:R.length,difficulty:H,onChangeDifficulty:V})]}),Object(l.jsx)("main",{className:"main",children:Object(l.jsx)(b,{fields:n})}),Object(l.jsxs)("footer",{className:"footer",children:[Object(l.jsx)(u,{status:L,onStart:function(){M(p.playing),console.log(L)},onRestart:function(){setInterval((function(){_((function(t){return t+1}))}),300),A(y.up),M(p.init),j(v),i(m(35,v))},onStop:function(){M(p.suspended)}}),Object(l.jsx)(f,{onChange:U})]})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),i(t),a(t),s(t)}))};s.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root")),E()}},[[24,1,2]]]);
//# sourceMappingURL=main.5c03eb53.chunk.js.map